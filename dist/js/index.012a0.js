webpackJsonp([2],{11:function(t,a,i){"use strict";(function(t,a){i(12);var e,n=i(13);(e=window).scrollNav={probeType:1,click:!0,direction:"horizontal",startY:0,startX:0,init:function(){this._getNavData(),this.initScroll()},initScroll:function(){var a={probeType:this.probeType,click:this.click,scrollY:this.freeScroll||"vertical"===this.direction,scrollX:this.freeScroll||"horizontal"===this.direction,startX:this.startX,startY:this.startY};this.scroll=new t.default(".list-wrapper",a)},_initNavWidth:function(){var t=a("#navbar-ul").find("li").length,i=(a("#navbar-ul").find("li").width()+20)*t+"px";a("#navbar-ul").width(i)},_selectNav:function(t){this.current=a(t).data("index"),this._adjust(a(t).data("index"))},_adjust:function(t){var i=document.getElementsByClassName("viewport")[0].clientWidth,e=document.getElementById("navbar-ul").clientWidth,n=Math.min(0,i-e),s=i/2,r=document.getElementById("navbar-ul").children,l=0;this.navdata.every(function(a,i){return a.id!==t&&(l+=r[i].clientWidth+25,!0)});var d=s-l;d=Math.max(n,Math.min(0,d)),a(".scroll-content").css({transform:"translate("+d+"px, 0px)","transition-duration":"300ms"})},refresh:function(){this.scroll&&this.scroll.refresh()},_getNavData:function(){var t=this;(0,n.getIndexData)().then(function(i){t.navdata=i.navdata;for(var e="",n=t.navdata.length,s=0;s<n;s++)e+='<li class="nav-bar-item" data-index='+t.navdata[s].id+">                          <span>"+t.navdata[s].text+"</span>                      </li>";a("#navbar-ul").html(e),a("#navbar-ul li").eq(0).find("span").addClass("nbi-selected"),t._initNavWidth(),a("body").on("click",".nav-bar-item",function(i){t._selectNav(this),a(this).find("span").addClass("nbi-selected").parent().siblings().find("span").removeClass("nbi-selected")})}).catch(function(t){})}},e.slider={loop:!0,autoPlay:!0,interval:400,click:!0,threshold:.3,speed:400,currentPageIndex:0,_initSliderWidth:function(){this.children=a(".slider-group").children();for(var t=0,i=a(".slider").width(),e=0;e<this.children.length;e++){var n=this.children[e];a(n).addClass("slider-item"),n.style.width=i+"px",t+=i}this.loop&&(t+=2*i),a(".slider-group").css("width",t+"px")},_initSlider:function(){var a=this,i={scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed},bounce:!1,click:this.click};this.slide=new t.default(".slider",i),this.slide.on("scrollEnd",function(){var t=a.slide.getCurrentPage().pageX;a.loop&&(t-=1),a.currentPageIndex=t,a.autoPlay&&a._play()}),this.slide.on("beforeScrollStart",function(){a.autoPlay&&clearTimeout(a.timer)})},init:function(){this._getSlideData()},_getSlideData:function(){var t=this;(0,n.getIndexData)().then(function(i){t.slidata=i.slidata;for(var e="",n="",s=t.slidata.length,r=0;r<s;r++)e+="<div data-index="+t.slidata[r].id+'>                                <a class="" href='+t.slidata[r].href+">                                <img src="+t.slidata[r].src+' alt="">                            </a>                        </div>',n+='<span class="dot"></span>';a(".slider-group").html(e),a(".dots").html(n),a(".dots .dot:first").addClass("active"),t._initSliderWidth(),t._initSlider()}).catch(function(t){})},_play:function(){var t=this,i=this.currentPageIndex+1,e=a(".dots").children();e.length,this.loop&&(i+=1),a(e[this.currentPageIndex+1]).addClass("active").siblings().removeClass("active"),this.timer=setTimeout(function(){t.slide.goToPage(i,0,400)},this.interval)}},e.hotArea={init:function(){this._getAreaData()},_getAreaData:function(){var t=this;(0,n.getIndexData)().then(function(i){t.areadata=i.areadata;for(var e="",n=t.areadata.length,s=0;s<n;s++)e+='<div class="store-item" data-id='+t.areadata[s].id+'>                    <div class="store-content">                        <div class="goods-image">                            <div class="image-container">                                <img src='+t.areadata[s].imgsrc+' alt="">                            </div>                        </div>                        <div class="goods-detail">                            <p class="goods-name">'+t.areadata[s].name+'</p>                            <div class="goods-content">                                <p class="goods-sales">距离'+t.areadata[s].distance+'米</p>                            </div>                            <del class="goods-market-price">'+t.areadata[s].marprice+'</del>                            <div class="discount-price"><i>￥</i>'+t.areadata[s].disprice+'</div>                            <div class="goods-buy">立即抢</div>                        </div>                    </div>                </div>';a(".stores").html(e)}).catch(function(t){})}},e.Home={pageInit:function(){scrollNav.init(),slider.init(),hotArea.init(),Home.scrollIndex()},scrollIndex:function(){this.scroll=new t.default(".content-wrapper",{probeType:1,click:!0,scrollY:!0,scrollX:!1,startX:0,startY:0})}},a(function(){Home.pageInit()})}).call(a,i(2),i(1))},12:function(t,a){},13:function(t,a,i){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.getIndexData=function(a){return t.get("/src/api/getIndex.json",{params:a}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t.data)})}}).call(a,i(3))}},[11]);