(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{0:function(t,a){t.exports=libs},26:function(t,a){},8:function(t,a,i){"use strict";i(26);var e=i(3),n=d(i(2)),s=d(i(1));function d(t){return t&&t.__esModule?t:{default:t}}var l,r,o,c=(l={probeType:1,click:!0,direction:"horizontal",startY:0,startX:0,init:function(){this._getNavData(),this.initScroll()},initScroll:function(){var t={probeType:this.probeType,click:this.click,scrollY:this.freeScroll||"vertical"===this.direction,scrollX:this.freeScroll||"horizontal"===this.direction,startX:this.startX,startY:this.startY};this.scroll=new n.default(".list-wrapper",t)},_initNavWidth:function(){var t=(0,s.default)("#navbar-ul").find("li").length,a=((0,s.default)("#navbar-ul").find("li").width()+20)*t+"px";(0,s.default)("#navbar-ul").width(a)},_selectNav:function(t){this.current=(0,s.default)(t).data("index"),this._adjust((0,s.default)(t).data("index"))},_adjust:function(t){var a=document.getElementsByClassName("viewport")[0].clientWidth,i=document.getElementById("navbar-ul").clientWidth,e=Math.min(0,a-i),n=a/2,d=document.getElementById("navbar-ul").children,l=0;this.navdata.every(function(a,i){return a.id!==t&&(l+=d[i].clientWidth+25,!0)});var r=n-l;r=Math.max(e,Math.min(0,r)),(0,s.default)(".scroll-content").css({transform:"translate("+r+"px, 0px)","transition-duration":"300ms"})},refresh:function(){this.scroll&&this.scroll.refresh()},_getNavData:function(){var t=this;(0,e.getIndexData)().then(function(a){t.navdata=a.navdata;for(var i="",e=t.navdata.length,n=0;n<e;n++)i+='<li class="nav-bar-item" data-index='+t.navdata[n].id+"><span>"+t.navdata[n].text+"</span></li>";(0,s.default)("#navbar-ul").html(i),(0,s.default)("#navbar-ul li").eq(0).find("span").addClass("nbi-selected"),t._initNavWidth(),(0,s.default)("body").on("click",".nav-bar-item",function(a){t._selectNav(this),(0,s.default)(this).find("span").addClass("nbi-selected").parent().siblings().find("span").removeClass("nbi-selected")})}).catch(function(t){})}},r={loop:!0,autoPlay:!0,interval:400,click:!0,threshold:.3,speed:400,currentPageIndex:0,_initSliderWidth:function(){this.children=(0,s.default)(".slider-group").children();for(var t=0,a=(0,s.default)(".slider").width(),i=0;i<this.children.length;i++){var e=this.children[i];(0,s.default)(e).addClass("slider-item"),e.style.width=a+"px",t+=a}this.loop&&(t+=2*a),(0,s.default)(".slider-group").css("width",t+"px")},_initSlider:function(){var t=this,a={scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed},bounce:!1,click:this.click};this.slide=new n.default(".slider",a),this.slide.on("scrollEnd",function(){var a=t.slide.getCurrentPage().pageX;t.loop&&(a-=1),t.currentPageIndex=a,t.autoPlay&&t._play()}),this.slide.on("beforeScrollStart",function(){t.autoPlay&&clearTimeout(t.timer)})},init:function(){this._getSlideData()},_getSlideData:function(){var t=this;(0,e.getIndexData)().then(function(a){t.slidata=a.slidata;for(var i="",e="",n=t.slidata.length,d=0;d<n;d++)i+="<div data-index="+t.slidata[d].id+'><a class="" href='+t.slidata[d].href+"><img src="+t.slidata[d].src+' alt=""></a></div>',e+='<span class="dot"></span>';(0,s.default)(".slider-group").html(i),(0,s.default)(".dots").html(e),(0,s.default)(".dots .dot:first").addClass("active"),t._initSliderWidth(),t._initSlider()}).catch(function(t){})},_play:function(){var t=this,a=this.currentPageIndex+1,i=(0,s.default)(".dots").children();this.loop&&(a+=1),(0,s.default)(i[this.currentPageIndex+1]).addClass("active").siblings().removeClass("active"),this.timer=setTimeout(function(){t.slide.goToPage(a,0,400)},this.interval)}},o={init:function(){this._getAreaData()},_getAreaData:function(){var t=this;(0,e.getIndexData)().then(function(a){t.areadata=a.areadata;for(var i="",e=t.areadata.length,n=0;n<e;n++)i+='<div class="store-item" data-id='+t.areadata[n].id+'>\n                    <div class="store-content">\n                        <div class="goods-image">\n                            <div class="image-container">\n                                <img src='+t.areadata[n].imgsrc+' alt="">                            </div>\n                        </div>\n                        <div class="goods-detail">\n                            <p class="goods-name">'+t.areadata[n].name+'</p>\n                            <div class="goods-content">\n                                <p class="goods-sales">距离'+t.areadata[n].distance+'米</p>\n                            </div>\n                            <del class="goods-market-price">'+t.areadata[n].marprice+'</del>\n                            <div class="discount-price"><i>￥</i>'+t.areadata[n].disprice+'</div>\n                            <div class="goods-buy">立即抢</div>\n                        </div>                    </div>                </div>';(0,s.default)(".stores").html(i)}).catch(function(t){})}},{pageInit:function(){l.init(),r.init(),o.init()}});(0,s.default)(function(){c.pageInit()})}},[[8,0,1]]]);